

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Introduction &mdash; MultiResolution Image Filter 0.1.dev6 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="MultiResolution Image Filter 0.1.dev6 documentation" href="index.html"/>
        <link rel="next" title="SAp CTA data pipeline API" href="api.html"/>
        <link rel="prev" title="MultiResolution Image Filter’s Documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> MultiResolution Image Filter
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gnu-linux">Gnu/Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows">Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="#macosx">MacOSX</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#image-cleaning-guidelines">Image cleaning guidelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#step-1">Step 1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-2">Step 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-3">Step 3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#step-4">Step 4</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#bug-reports">Bug reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer’s notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MultiResolution Image Filter</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>Copyright (c) 2016,2017,2018 Jeremie DECOCK (www.jdhp.org) and Tino Michael</p>
<ul class="simple">
<li>Online documentation: <a class="reference external" href="https://jeremiedecock.github.io/mrif/">https://jeremiedecock.github.io/mrif/</a></li>
<li>Source code: <a class="reference external" href="https://github.com/jeremiedecock/mrif">https://github.com/jeremiedecock/mrif</a></li>
<li>Issue tracker: <a class="reference external" href="https://github.com/jeremiedecock/mrif/issues">https://github.com/jeremiedecock/mrif/issues</a></li>
<li>MRIF on PyPI: <a class="reference external" href="https://pypi.org/project/mrif/">https://pypi.org/project/mrif/</a></li>
</ul>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Signal processing for gamma-ray science.</p>
<p>Note:</p>
<blockquote>
<div>This project is in beta stage.</div></blockquote>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Python &gt;= 3.0</li>
</ul>
</div>
<div class="section" id="installation">
<span id="install"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="gnu-linux">
<h3>Gnu/Linux<a class="headerlink" href="#gnu-linux" title="Permalink to this headline">¶</a></h3>
<p>You can install, upgrade, uninstall MRIF with these commands (in a
terminal):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">pre</span> <span class="n">mrif</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">mrif</span>
<span class="n">pip</span> <span class="n">uninstall</span> <span class="n">mrif</span>
</pre></div>
</div>
<p>Or, if you have downloaded the MRIF source code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="windows">
<h3>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h3>
<p>You can install, upgrade, uninstall MRIF with these commands (in a
<a class="reference external" href="https://en.wikipedia.org/wiki/Cmd.exe">command prompt</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">py</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">pre</span> <span class="n">mrif</span>
<span class="n">py</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">mrif</span>
<span class="n">py</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">uninstall</span> <span class="n">mrif</span>
</pre></div>
</div>
<p>Or, if you have downloaded the MRIF source code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">py</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="macosx">
<h3>MacOSX<a class="headerlink" href="#macosx" title="Permalink to this headline">¶</a></h3>
<p>You can install, upgrade, uninstall MRIF with these commands (in a
terminal):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">pre</span> <span class="n">mrif</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">mrif</span>
<span class="n">pip</span> <span class="n">uninstall</span> <span class="n">mrif</span>
</pre></div>
</div>
<p>Or, if you have downloaded the MRIF source code:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="image-cleaning-guidelines">
<h2>Image cleaning guidelines<a class="headerlink" href="#image-cleaning-guidelines" title="Permalink to this headline">¶</a></h2>
<p>Here is the basic guidelines to clean images (and assess cleaning algorithms).</p>
<div class="section" id="step-1">
<h3>Step 1<a class="headerlink" href="#step-1" title="Permalink to this headline">¶</a></h3>
<p>Extract images from Simtel files, crop them, convert them to “regular” 2D
images and write them into fits files (one fits file per image with the ADC
signal in HDU0 and the photoelectron signal in HDU1):</p>
<ol class="arabic simple">
<li>clone <a class="reference external" href="http://github.com/jdhp-sap/snippets">http://github.com/jdhp-sap/snippets</a></li>
<li>check snippets/ctapipe/extract_and_crop_simtel_images.py on lines 64 and 66,
these lines may need to be fixed</li>
<li>in snippets/ctapipe run <code class="docutils literal"><span class="pre">./extract_crop_and_plot_all_astri_images.sh</span> <span class="pre">ASTRI_SIMTEL_FILE</span></code></li>
</ol>
<p>Step 1.4 generate a lot of fits files in your current directory ;
its execution may be long (up to several hours) as the script is not optimized
at all and many instructions are redundant (but this is not a big deal because
you only need to run it once to generate your input files).</p>
</div>
<div class="section" id="step-2">
<h3>Step 2<a class="headerlink" href="#step-2" title="Permalink to this headline">¶</a></h3>
<p>Install mr_transform (the cosmostat wavelet transform tool):</p>
<ol class="arabic">
<li><p class="first">download <a class="reference external" href="http://www.cosmostat.org/wp-content/uploads/2014/12/ISAP_V3.1.tgz">http://www.cosmostat.org/wp-content/uploads/2014/12/ISAP_V3.1.tgz</a> (see <a class="reference external" href="http://www.cosmostat.org/software/isap/">http://www.cosmostat.org/software/isap/</a>)</p>
</li>
<li><p class="first">unzip this archive, go to the “sparse2d” directory and compile the sparse2d
library. It should generate an executable named “mr_transform”:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tar</span> <span class="o">-</span><span class="n">xzvf</span> <span class="n">ISAP_V3</span><span class="o">.</span><span class="mf">1.</span><span class="n">tgz</span>
<span class="n">cd</span> <span class="n">ISAP_V3</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">cxx</span>
<span class="n">tar</span> <span class="o">-</span><span class="n">xzvf</span> <span class="n">sparse2d_V1</span><span class="o">.</span><span class="mf">1.</span><span class="n">tgz</span>
<span class="n">cd</span> <span class="n">sparse2d</span>
<span class="nb">compile</span> <span class="n">the</span> <span class="n">content</span> <span class="n">of</span> <span class="n">this</span> <span class="n">directory</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="step-3">
<h3>Step 3<a class="headerlink" href="#step-3" title="Permalink to this headline">¶</a></h3>
<p>Clean images generated in step 1:</p>
<ol class="arabic simple">
<li>clone and install
<a class="reference external" href="http://github.com/jdhp-sap/data-pipeline-standalone-scripts">http://github.com/jdhp-sap/data-pipeline-standalone-scripts</a> (see
<a class="reference external" href="https://github.com/jdhp-sap/data-pipeline-standalone-scripts#installation">https://github.com/jdhp-sap/data-pipeline-standalone-scripts#installation</a>)</li>
<li>to clean one fits file (see for instance run_experiments.sh):<ul>
<li>with Tailcut : in data-pipeline-standalone-scripts, run <code class="docutils literal"><span class="pre">./datapipe/denoising/tailcut.py</span> <span class="pre">-T</span> <span class="pre">0.75</span> <span class="pre">-t</span> <span class="pre">0.5</span> <span class="pre">FITS_FILE</span></code> (-T = max threshold, -t = min threshold, use the -h option to see command usage)</li>
<li>with FFT : in data-pipeline-standalone-scripts, run <code class="docutils literal"><span class="pre">./datapipe/denoising/fft.py</span> <span class="pre">-s</span> <span class="pre">-t</span> <span class="pre">0.02</span> <span class="pre">FITS_FILE</span></code> (-t = threshold in the Fourier space, use the -h option to see command usage)</li>
<li>with Wavelets : in data-pipeline-standalone-scripts, run <code class="docutils literal"><span class="pre">./datapipe/denoising/wavelets_mrtrransform.py</span> <span class="pre">FITS_FILE</span></code> (use the -h option to see command usage)</li>
</ul>
</li>
<li>instead of the step 3.2, the “benchmark mode” can be set to clean
images and assess cleaning algorithms (it’s still a bit experimental) : use
the same instructions than for step 3.2 with the additional option “-b 1” in
each command (and put several fits files in input e.g. “*.fits”)</li>
</ol>
</div>
<div class="section" id="step-4">
<h3>Step 4<a class="headerlink" href="#step-4" title="Permalink to this headline">¶</a></h3>
<p>Optionally, plot some stats about scores:
in data-pipeline-standalone-scripts/utils, use the plot_score_*.py scripts on
the JSON files generated in step 3.3 (use the -h option to see command usage)</p>
</div>
</div>
<div class="section" id="bug-reports">
<h2>Bug reports<a class="headerlink" href="#bug-reports" title="Permalink to this headline">¶</a></h2>
<p>To search for bugs or report them, please use the SAp Data Pipeline Standalone
Scripts Bug Tracker at:</p>
<blockquote>
<div><a class="reference external" href="https://github.com/jeremiedecock/mrif/issues">https://github.com/jeremiedecock/mrif/issues</a></div></blockquote>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api.html" class="btn btn-neutral float-right" title="SAp CTA data pipeline API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="MultiResolution Image Filter’s Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2015, Jérémie Decock.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.dev6',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>